[gd_scene load_steps=14 format=4 uid="uid://d2vwn7x6wsqx"]

[ext_resource type="Script" uid="uid://bycbuhtmy6qgt" path="res://Scripts/HealthManager.gd" id="2_6bp64"]
[ext_resource type="Script" uid="uid://b1n5a8hrgitd4" path="res://Scripts/Camera/ChasePlayer.gd" id="2_8gbba"]
[ext_resource type="Script" uid="uid://c65xg4ii1iri3" path="res://Scripts/Player/PlayerMovement.gd" id="2_bo1nx"]
[ext_resource type="Texture2D" uid="uid://depwadi6wkqsr" path="res://test.png" id="3_8gbba"]
[ext_resource type="Script" uid="uid://cocflc3qqeppd" path="res://Scripts/Player/PlayerCombat.gd" id="3_344ge"]
[ext_resource type="Texture2D" uid="uid://dyf4qm44bmn0o" path="res://icon.svg" id="4_jjvhh"]
[ext_resource type="Script" uid="uid://bwb7fxdxxatdv" path="res://Scripts/Enemy/DefaultEnemyAI.gd" id="4_kry3j"]

[sub_resource type="CanvasTexture" id="CanvasTexture_bo1nx"]

[sub_resource type="CircleShape2D" id="CircleShape2D_8gbba"]
radius = 22.0

[sub_resource type="NavigationPolygon" id="NavigationPolygon_8gbba"]
vertices = PackedVector2Array(16, 16, -16, 16, -16, -16, 16, -16)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)])
agent_radius = 0.0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_jjvhh"]
texture = ExtResource("3_8gbba")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
1:0/0 = 0
1:0/0/navigation_layer_0/polygon = SubResource("NavigationPolygon_8gbba")

[sub_resource type="TileSet" id="TileSet_kry3j"]
tile_size = Vector2i(32, 32)
physics_layer_0/collision_layer = 1
navigation_layer_0/layers = 1
sources/0 = SubResource("TileSetAtlasSource_jjvhh")

[sub_resource type="CircleShape2D" id="CircleShape2D_jjvhh"]
radius = 60.369232

[node name="Node2D" type="Node2D"]

[node name="Player" type="CharacterBody2D" parent="."]
top_level = true
scale = Vector2(0.5, 0.5)
collision_layer = 2
collision_mask = 3

[node name="Sprite2D" type="Sprite2D" parent="Player"]
scale = Vector2(43.500008, 46.500004)
texture = SubResource("CanvasTexture_bo1nx")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player"]
shape = SubResource("CircleShape2D_8gbba")
debug_color = Color(0.973368, 0, 0.437854, 0.41960785)

[node name="PlayerMovement" type="Node2D" parent="Player" node_paths=PackedStringArray("player")]
scale = Vector2(2, 2)
script = ExtResource("2_bo1nx")
player = NodePath("..")

[node name="PlayerHealth" type="Node2D" parent="Player"]
script = ExtResource("2_6bp64")

[node name="PlayerCombat" type="Node2D" parent="Player"]
script = ExtResource("3_344ge")

[node name="Camera2D" type="Camera2D" parent="." node_paths=PackedStringArray("target")]
script = ExtResource("2_8gbba")
target = NodePath("../Player")

[node name="TileMapLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAMAPv/AAAAAAAAAAAMAPr/AAAAAAAAAAALAPr/AAAAAAAAAAAKAPr/AAAAAAAAAAAJAPr/AAAAAAAAAAAIAPr/AAAAAAAAAAAHAPr/AAAAAAAAAAAGAPr/AAAAAAAAAAAFAPr/AAAAAAAAAAAFAPn/AAAAAAAAAAAEAPn/AAAAAAAAAAADAPn/AAAAAAAAAAACAPn/AAAAAAAAAAABAPn/AAAAAAAAAAAAAPn/AAAAAAAAAAD///n/AAAAAAAAAAD+//n/AAAAAAAAAAD9//n/AAAAAAAAAAD8//n/AAAAAAAAAAD7//n/AAAAAAAAAAD6//n/AAAAAAAAAAD5//n/AAAAAAAAAAD4//n/AAAAAAAAAAD4//r/AAAAAAAAAAD3//r/AAAAAAAAAAD2//v/AAAAAAAAAAD1//v/AAAAAAAAAAD1//z/AAAAAAAAAAD0//z/AAAAAAAAAAD0//3/AAAAAAAAAAD0//7/AAAAAAAAAAD0////AAAAAAAAAAD0/wAAAAAAAAAAAAD1/wEAAAAAAAAAAAD1/wIAAAAAAAAAAAD2/wIAAAAAAAAAAAD2/wMAAAAAAAAAAAD3/wMAAAAAAAAAAAD3/wQAAAAAAAAAAAD4/wQAAAAAAAAAAAD4/wUAAAAAAAAAAAD5/wUAAAAAAAAAAAD6/wUAAAAAAAAAAAD6/wYAAAAAAAAAAAD7/wYAAAAAAAAAAAD7/wcAAAAAAAAAAAD8/wcAAAAAAAAAAAD9/wcAAAAAAAAAAAD9/wgAAAAAAAAAAAD+/wgAAAAAAAAAAAD//wgAAAAAAAAAAAAAAAgAAAAAAAAAAAABAAgAAAAAAAAAAAACAAgAAAAAAAAAAAADAAgAAAAAAAAAAAAEAAgAAAAAAAAAAAAFAAgAAAAAAAAAAAAGAAgAAAAAAAAAAAAHAAgAAAAAAAAAAAAIAAgAAAAAAAAAAAAJAAgAAAAAAAAAAAAKAAcAAAAAAAAAAAALAAcAAAAAAAAAAAALAAYAAAAAAAAAAAAMAAYAAAAAAAAAAAANAAYAAAAAAAAAAAANAAUAAAAAAAAAAAANAAQAAAAAAAAAAAAOAAQAAAAAAAAAAAAOAAMAAAAAAAAAAAAPAAIAAAAAAAAAAAAPAAEAAAAAAAAAAAAPAAAAAAAAAAAAAAAPAP//AAAAAAAAAAAPAP7/AAAAAAAAAAAPAP3/AAAAAAAAAAAPAPz/AAAAAAAAAAAOAPv/AAAAAAAAAAANAPv/AAAAAAAAAAAFAAIAAAAAAAAAAAAFAAEAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAP//AAABAAAAAAAFAP7/AAABAAAAAAAFAP3/AAABAAAAAAAFAPz/AAABAAAAAAAFAPv/AAABAAAAAAAEAPv/AAABAAAAAAAEAPr/AAABAAAAAAADAPr/AAABAAAAAAACAPr/AAABAAAAAAABAPr/AAABAAAAAAAAAPr/AAABAAAAAAD///r/AAABAAAAAAD+//r/AAABAAAAAAD9//r/AAABAAAAAAD8//r/AAABAAAAAAD7//r/AAABAAAAAAD6//r/AAABAAAAAAD5//r/AAABAAAAAAD5//v/AAABAAAAAAD4//v/AAABAAAAAAD3//v/AAABAAAAAAD3//z/AAABAAAAAAD2//z/AAABAAAAAAD2//3/AAABAAAAAAD1//3/AAABAAAAAAD1//7/AAABAAAAAAD1////AAABAAAAAAD1/wAAAAABAAAAAAD2/wAAAAABAAAAAAD2////AAABAAAAAAD2//7/AAABAAAAAAD3//7/AAABAAAAAAD3//3/AAABAAAAAAD4//3/AAABAAAAAAD4//z/AAABAAAAAAD5//z/AAABAAAAAAD5//3/AAABAAAAAAD5//7/AAABAAAAAAD4//7/AAABAAAAAAD4////AAABAAAAAAD3////AAABAAAAAAD3/wAAAAABAAAAAAD3/wEAAAABAAAAAAD2/wEAAAABAAAAAAD3/wIAAAABAAAAAAD4/wIAAAABAAAAAAD4/wEAAAABAAAAAAD4/wAAAAABAAAAAAD5/wAAAAABAAAAAAD5////AAABAAAAAAD6////AAABAAAAAAD6//7/AAABAAAAAAD6//3/AAABAAAAAAD6//z/AAABAAAAAAD6//v/AAABAAAAAAD7//v/AAABAAAAAAD7//z/AAAAAAAAAAD7//3/AAABAAAAAAD7//7/AAABAAAAAAD7////AAABAAAAAAD7/wAAAAABAAAAAAD6/wAAAAABAAAAAAD6/wEAAAABAAAAAAD5/wEAAAABAAAAAAD5/wIAAAABAAAAAAD5/wMAAAABAAAAAAD4/wMAAAABAAAAAAD5/wQAAAABAAAAAAD6/wQAAAABAAAAAAD6/wMAAAABAAAAAAD6/wIAAAAAAAAAAAD7/wIAAAAAAAAAAAD7/wEAAAAAAAAAAAD8/wEAAAAAAAAAAAD8/wAAAAABAAAAAAD8////AAABAAAAAAD8//7/AAABAAAAAAD8//3/AAAAAAAAAAD8//z/AAAAAAAAAAD8//v/AAABAAAAAAD9//v/AAABAAAAAAD9//z/AAABAAAAAAD9//3/AAAAAAAAAAD9//7/AAAAAAAAAAD9////AAAAAAAAAAD9/wAAAAAAAAAAAAD9/wEAAAAAAAAAAAD9/wIAAAABAAAAAAD8/wIAAAABAAAAAAD8/wMAAAABAAAAAAD7/wMAAAABAAAAAAD7/wQAAAABAAAAAAD7/wUAAAABAAAAAAD8/wUAAAABAAAAAAD8/wQAAAABAAAAAAD9/wQAAAABAAAAAAD9/wMAAAABAAAAAAD+/wMAAAABAAAAAAD+/wIAAAABAAAAAAD+/wEAAAABAAAAAAD+/wAAAAABAAAAAAD+////AAABAAAAAAD+//7/AAABAAAAAAD+//3/AAABAAAAAAD+//z/AAABAAAAAAD+//v/AAABAAAAAAD///v/AAABAAAAAAD///z/AAABAAAAAAD///3/AAABAAAAAAD///7/AAABAAAAAAD/////AAABAAAAAAD//wAAAAABAAAAAAD//wEAAAABAAAAAAD//wIAAAABAAAAAAD//wMAAAABAAAAAAD//wQAAAAAAAAAAAD+/wQAAAABAAAAAAD+/wUAAAABAAAAAAD9/wUAAAABAAAAAAD9/wYAAAABAAAAAAD8/wYAAAABAAAAAAD+/wYAAAABAAAAAAD+/wcAAAABAAAAAAD//wcAAAABAAAAAAD//wYAAAABAAAAAAD//wUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAQAAAABAAAAAAAAAAMAAAABAAAAAAAAAAIAAAABAAAAAAAAAAEAAAABAAAAAAAAAAAAAAABAAAAAAAAAP//AAABAAAAAAAAAP7/AAABAAAAAAAAAP3/AAABAAAAAAAAAPz/AAABAAAAAAAAAPv/AAABAAAAAAABAPv/AAABAAAAAAABAPz/AAAAAAAAAAABAP3/AAABAAAAAAABAP7/AAABAAAAAAABAP//AAAAAAAAAAABAAAAAAAAAAAAAAABAAEAAAAAAAAAAAABAAIAAAABAAAAAAABAAMAAAABAAAAAAABAAQAAAABAAAAAAABAAUAAAABAAAAAAABAAYAAAAAAAAAAAAAAAYAAAAAAAAAAAAAAAcAAAABAAAAAAABAAcAAAABAAAAAAACAAcAAAABAAAAAAACAAYAAAAAAAAAAAACAAUAAAABAAAAAAACAAQAAAABAAAAAAACAAMAAAABAAAAAAACAAIAAAABAAAAAAACAAEAAAABAAAAAAACAAAAAAABAAAAAAACAP//AAABAAAAAAACAP7/AAABAAAAAAACAP3/AAABAAAAAAACAPz/AAAAAAAAAAACAPv/AAABAAAAAAADAPv/AAABAAAAAAADAPz/AAAAAAAAAAADAP3/AAABAAAAAAADAP7/AAABAAAAAAADAP//AAABAAAAAAADAAAAAAABAAAAAAADAAEAAAABAAAAAAADAAIAAAABAAAAAAADAAMAAAABAAAAAAADAAQAAAABAAAAAAADAAUAAAABAAAAAAADAAYAAAABAAAAAAADAAcAAAABAAAAAAAEAAcAAAABAAAAAAAEAAYAAAABAAAAAAAEAAUAAAABAAAAAAAEAAQAAAABAAAAAAAEAAMAAAABAAAAAAAEAAIAAAABAAAAAAAEAAEAAAABAAAAAAAEAAAAAAABAAAAAAAEAP//AAABAAAAAAAEAP7/AAABAAAAAAAEAP3/AAABAAAAAAAEAPz/AAABAAAAAAAFAAMAAAAAAAAAAAAFAAQAAAABAAAAAAAFAAUAAAABAAAAAAAFAAYAAAABAAAAAAAFAAcAAAABAAAAAAAGAAcAAAABAAAAAAAGAAYAAAABAAAAAAAGAAUAAAABAAAAAAAGAAQAAAABAAAAAAAGAAMAAAAAAAAAAAAGAAIAAAAAAAAAAAAGAAEAAAAAAAAAAAAGAAAAAAAAAAAAAAAGAP//AAAAAAAAAAAGAP7/AAABAAAAAAAGAP3/AAABAAAAAAAGAPz/AAABAAAAAAAGAPv/AAABAAAAAAAHAPv/AAABAAAAAAAHAPz/AAABAAAAAAAHAP3/AAABAAAAAAAHAP7/AAABAAAAAAAHAP//AAAAAAAAAAAHAAAAAAAAAAAAAAAHAAEAAAAAAAAAAAAHAAIAAAAAAAAAAAAHAAMAAAABAAAAAAAHAAQAAAABAAAAAAAHAAUAAAABAAAAAAAHAAYAAAABAAAAAAAHAAcAAAABAAAAAAAIAAcAAAABAAAAAAAIAAYAAAABAAAAAAAIAAUAAAABAAAAAAAIAAQAAAABAAAAAAAIAAMAAAABAAAAAAAIAAIAAAABAAAAAAAIAAEAAAAAAAAAAAAIAAAAAAAAAAAAAAAIAP//AAAAAAAAAAAIAP7/AAABAAAAAAAIAP3/AAABAAAAAAAIAPz/AAABAAAAAAAIAPv/AAABAAAAAAAJAPv/AAABAAAAAAAJAPz/AAABAAAAAAAJAP3/AAABAAAAAAAJAP7/AAABAAAAAAAJAP//AAABAAAAAAAJAAAAAAABAAAAAAAJAAEAAAABAAAAAAAJAAIAAAABAAAAAAAJAAMAAAABAAAAAAAJAAQAAAABAAAAAAAJAAUAAAABAAAAAAAJAAYAAAABAAAAAAAJAAcAAAABAAAAAAAKAAYAAAABAAAAAAAKAAUAAAABAAAAAAAKAAQAAAABAAAAAAAKAAMAAAABAAAAAAAKAAIAAAABAAAAAAAKAAEAAAABAAAAAAAKAAAAAAABAAAAAAAKAP//AAABAAAAAAAKAP7/AAABAAAAAAAKAP3/AAABAAAAAAAKAPz/AAABAAAAAAAKAPv/AAABAAAAAAALAPv/AAABAAAAAAALAPz/AAABAAAAAAALAP3/AAABAAAAAAALAP7/AAABAAAAAAALAP//AAABAAAAAAALAAAAAAABAAAAAAALAAEAAAABAAAAAAALAAIAAAABAAAAAAALAAMAAAABAAAAAAALAAQAAAABAAAAAAALAAUAAAABAAAAAAAMAAUAAAABAAAAAAAMAAQAAAABAAAAAAAMAAMAAAABAAAAAAAMAAIAAAABAAAAAAAMAAEAAAABAAAAAAAMAAAAAAABAAAAAAAMAP//AAABAAAAAAAMAP7/AAABAAAAAAAMAP3/AAABAAAAAAAMAPz/AAABAAAAAAANAPz/AAABAAAAAAANAP3/AAABAAAAAAANAP7/AAABAAAAAAANAP//AAABAAAAAAANAAAAAAABAAAAAAANAAEAAAABAAAAAAANAAIAAAABAAAAAAANAAMAAAABAAAAAAAOAAIAAAABAAAAAAAOAAEAAAABAAAAAAAOAAAAAAABAAAAAAAOAP//AAABAAAAAAAOAP7/AAABAAAAAAAOAP3/AAABAAAAAAAOAPz/AAABAAAAAAAKAAgAAAAAAAAAAAA=")
tile_set = SubResource("TileSet_kry3j")

[node name="Enemy" type="CharacterBody2D" parent="."]
modulate = Color(1, 0, 0, 0.47843137)
position = Vector2(450, 0)
scale = Vector2(0.15, 0.15)
collision_layer = 2
collision_mask = 3
motion_mode = 1
wall_min_slide_angle = 0.0

[node name="Sprite2D" type="Sprite2D" parent="Enemy"]
texture = ExtResource("4_jjvhh")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Enemy"]
shape = SubResource("CircleShape2D_jjvhh")

[node name="NavigationAgent2D" type="NavigationAgent2D" parent="Enemy"]
path_max_distance = 1000.0
debug_enabled = true

[node name="Timer" type="Timer" parent="Enemy"]
wait_time = 0.1
autostart = true

[node name="EnemyHealth" type="Node2D" parent="Enemy"]
script = ExtResource("2_6bp64")

[node name="EnemyAI" type="Node2D" parent="Enemy" node_paths=PackedStringArray("player")]
script = ExtResource("4_kry3j")
enemySpeed = null
player = NodePath("../../Player")

[connection signal="timeout" from="Enemy/Timer" to="Enemy" method="_on_timer_timeout"]
